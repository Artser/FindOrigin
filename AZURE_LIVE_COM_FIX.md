# Решение проблемы: аккаунт live.com не работает с Azure

## Проблема

При попытке войти в Azure Portal вы видите ошибку:
> "User account from identity provider 'live.com' does not exist in tenant 'Microsoft Services' and cannot access the application 'Azure Portal'"

Это означает, что ваш аккаунт `live.com` (или `hotmail.com`, старые Microsoft аккаунты) не может использоваться для Azure Portal.

## Решение: Создать новый Microsoft аккаунт с @outlook.com

### Шаг 1: Выйдите из текущего аккаунта

1. Если вы вошли в Azure Portal, **выйдите** (Sign out)
2. Закройте все вкладки с Azure Portal

### Шаг 2: Создайте новый Microsoft аккаунт

1. Перейдите на [account.microsoft.com](https://account.microsoft.com/)

2. Убедитесь, что вы **не вошли** в какой-либо аккаунт

3. Нажмите **"Создать учетную запись Microsoft"** или **"Sign up"**

4. Выберите **"Получить новый адрес электронной почты"**

5. Выберите домен **`@outlook.com`** (это важно - outlook.com точно работает с Azure)

6. Придумайте имя пользователя:
   - Например: `findorigin2024@outlook.com`
   - Или: `ваше_имя2024@outlook.com`
   - Проверьте доступность имени

7. Создайте надежный пароль:
   - Минимум 8 символов
   - Комбинация букв, цифр и символов

8. Заполните остальные данные:
   - Имя и фамилия
   - Дата рождения
   - Страна/регион
   - Телефон (опционально, но рекомендуется)

9. Пройдите проверку безопасности (капча)

10. Подтвердите email (если потребуется)

### Шаг 3: Войдите в Azure Portal с новым аккаунтом

1. Перейдите на [Azure Portal](https://portal.azure.com/)

2. Нажмите **"Sign in"** (Войти)

3. Введите ваш новый email: `ваше_имя@outlook.com`

4. Введите пароль

5. Если потребуется, подтвердите личность (SMS или email)

6. Примите условия использования Azure

### Шаг 4: Создайте бесплатный Azure аккаунт

1. После входа в Azure Portal вы увидите предложение создать аккаунт

2. Нажмите **"Start free"** или **"Начать бесплатно"**

3. Заполните форму:
   - Имя и фамилия
   - Телефон
   - Страна
   - Согласие с условиями

4. Добавьте способ оплаты:
   - Кредитная карта или дебетовая карта
   - ⚠️ **Важно:** На бесплатном тарифе деньги **НЕ списываются**
   - Вы получите $200 кредитов на 30 дней
   - После этого бесплатные сервисы остаются бесплатными

5. Подтвердите создание аккаунта

### Шаг 5: Создайте ресурс Bing Search

1. В Azure Portal нажмите **"Create a resource"** (Создать ресурс)

2. В поиске введите: **"Bing Search v7"**

3. Нажмите **"Create"** (Создать)

4. Заполните форму:
   - **Name**: любое имя (например: "FindOrigin-Bing")
   - **Pricing tier**: выберите **"F1 Free"** (3,000 запросов/месяц)
   - **Resource group**: создайте новую (например: "FindOrigin-RG")
   - **Region**: выберите ближайший регион

5. Нажмите **"Review + create"** → **"Create"**

6. Дождитесь создания ресурса (обычно 1-2 минуты)

### Шаг 6: Получите API ключ

1. После создания ресурса нажмите **"Go to resource"** (Перейти к ресурсу)

2. В меню слева найдите **"Keys and Endpoint"** (Ключи и конечная точка)

3. Скопируйте **Key 1** (это ваш API ключ)

4. ⚠️ **Важно:** Сохраните ключ в безопасном месте!

### Шаг 7: Добавьте ключ в проект

Откройте файл `.env.local` (или `.env`) и добавьте:

```env
BING_SEARCH_API_KEY=ваш_скопированный_ключ
```

**Пример:**
```env
BING_SEARCH_API_KEY=abc123def456ghi789jkl012mno345pqr678stu901vwx234yz
```

### Шаг 8: Проверьте работу

Перезапустите сервер разработки:

```powershell
# Остановите текущий (Ctrl+C) и запустите снова
npm run dev
```

Теперь проект будет использовать Bing Search API вместо Google Custom Search API.

## Альтернатива: Использовать Google Custom Search API

Если создание Microsoft аккаунта проблематично, можно вернуться к Google Custom Search API:

1. Убедитесь, что Custom Search API включен в Google Cloud Console
2. Проверьте, что API ключ привязан к Custom Search API
3. Настройте биллинг (если требуется)

См. файл `GOOGLE_API_SETUP.md` для подробной инструкции.

## Почему live.com не работает?

Аккаунты `live.com`, `hotmail.com` и некоторые старые Microsoft аккаунты были созданы до появления Azure и могут не иметь доступа к Azure Portal. Новые аккаунты `@outlook.com` создаются с полным доступом ко всем Microsoft сервисам, включая Azure.

## Полезные ссылки

- [Создание Microsoft аккаунта](https://account.microsoft.com/)
- [Azure Portal](https://portal.azure.com/)
- [Бесплатный Azure аккаунт](https://azure.microsoft.com/free/)


