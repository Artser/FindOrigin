# –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫ Telegram-–±–æ—Ç–∞

## –ü—Ä–æ–±–ª–µ–º–∞: –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è

–ï—Å–ª–∏ –Ω–∞ —Å–∞–π—Ç–µ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –±–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–ª–µ–¥—É—é—â–µ–µ:

## –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: Webhook –Ω–∞—Å—Ç—Ä–æ–µ–Ω

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ webhook

```powershell
# –ó–∞–º–µ–Ω–∏—Ç–µ YOUR_BOT_TOKEN –Ω–∞ –≤–∞—à —Ç–æ–∫–µ–Ω –∏–∑ .env.local
$token = "YOUR_BOT_TOKEN"
$response = Invoke-RestMethod -Uri "https://api.telegram.org/bot$token/getWebhookInfo"
$response | ConvertTo-Json
```

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- `url` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∞—à webhook URL (–Ω–∞–ø—Ä–∏–º–µ—Ä, `https://–≤–∞—à-–¥–æ–º–µ–Ω.vercel.app/api/webhook` –∏–ª–∏ `https://–≤–∞—à-ngrok-url.ngrok.io/api/webhook`)
- `pending_update_count` - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 0 (–µ—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏, –±—É–¥–µ—Ç > 0)
- `last_error_message` - –µ—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏, –∑–¥–µ—Å—å –±—É–¥–µ—Ç –æ–ø–∏—Å–∞–Ω–∏–µ

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ webhook

**–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (—á–µ—Ä–µ–∑ ngrok):**

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ ngrok –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
   ```powershell
   ngrok http 3000
   ```

2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ URL (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://abc123.ngrok.io`)

3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ webhook:
   ```
   http://localhost:3000/api/set-webhook?url=https://abc123.ngrok.io/api/webhook
   ```

**–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ (Vercel):**

1. –î–µ–ø–ª–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –Ω–∞ Vercel
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ webhook:
   ```
   https://–≤–∞—à-–¥–æ–º–µ–Ω.vercel.app/api/set-webhook?url=https://–≤–∞—à-–¥–æ–º–µ–Ω.vercel.app/api/webhook
   ```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: –õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª, –≥–¥–µ –∑–∞–ø—É—â–µ–Ω `npm run dev`. –ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏—è –±–æ—Ç—É –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–æ–≥–∏:

**–ù–æ—Ä–º–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏:**
```
POST /api/webhook 200 in 123ms
–û—à–∏–±–∫–∞ –ø—Ä–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–µ –∑–∞–ø—Ä–æ—Å–∞: [–µ—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∞]
```

**–ï—Å–ª–∏ –Ω–µ—Ç –ª–æ–≥–æ–≤:**
- Webhook –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- Telegram –Ω–µ –º–æ–∂–µ—Ç –¥–æ—Å—Ç—É—á–∞—Ç—å—Å—è –¥–æ –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

## –ü—Ä–æ–≤–µ—Ä–∫–∞ 3: –û—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö

### –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏:

**"TELEGRAM_BOT_TOKEN –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `.env.local` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `TELEGRAM_BOT_TOKEN`
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä

**"Telegram API error: 401"**
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –Ω–∞ https://t.me/BotFather

**"Telegram API error: 403"**
- –ë–æ—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –∏–ª–∏ —É–¥–∞–ª–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –±–æ—Ç–∞

**"–û—à–∏–±–∫–∞ –ø—Ä–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–µ –∑–∞–ø—Ä–æ—Å–∞"**
- –û—à–∏–±–∫–∞ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–µ—Ç–∞–ª–∏ –æ—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–∏—Å–∫–æ–≤—ã—Ö API

## –ü—Ä–æ–≤–µ—Ä–∫–∞ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥

### –ö–æ–º–∞–Ω–¥–∞ /start

–û—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É –∫–æ–º–∞–Ω–¥—É `/start`. –ë–æ—Ç –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—Ç–∏—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ–º.

**–ï—Å–ª–∏ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ webhook –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω

### –û–±—ã—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

–û—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É –ª—é–±–æ–π —Ç–µ–∫—Å—Ç. –ë–æ—Ç –¥–æ–ª–∂–µ–Ω:
1. –û—Ç–≤–µ—Ç–∏—Ç—å "üîç –ê–Ω–∞–ª–∏–∑–∏—Ä—É—é –≤–∞—à –∑–∞–ø—Ä–æ—Å..."
2. –ó–∞—Ç–µ–º "üåê –ò—â—É –≤–æ–∑–º–æ–∂–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏..."
3. –ò —Ç–∞–∫ –¥–∞–ª–µ–µ

**–ï—Å–ª–∏ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–∏—Å–∫–æ–≤—ã—Ö API

## –ü—Ä–æ–≤–µ—Ä–∫–∞ 5: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–ö–æ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é. –ï—Å–ª–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—à–∏–±–∫–∞:
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –ø–æ–ª—É—á–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –æ—à–∏–±–∫–∏
- –í –ª–æ–≥–∞—Ö —Å–µ—Ä–≤–µ—Ä–∞ –±—É–¥–µ—Ç –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

## –ë—ã—Å—Ç—Ä–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ webhook:**
   ```powershell
   $token = "YOUR_BOT_TOKEN"
   Invoke-RestMethod -Uri "https://api.telegram.org/bot$token/getWebhookInfo"
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞:**
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç—É
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª —Å `npm run dev`
   - –ò—â–∏—Ç–µ –æ—à–∏–±–∫–∏ (–∫—Ä–∞—Å–Ω—ã–º —Ü–≤–µ—Ç–æ–º)

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   - `TELEGRAM_BOT_TOKEN` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
   - –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è `.env.local`

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä–∞:**
   - –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ ngrok
   - –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞: —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–æ–º–µ–Ω –¥–æ—Å—Ç—É–ø–µ–Ω

## –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ –ª–æ–≥–∏** (—Å–µ—Ä–≤–µ—Ä, Vercel, Telegram)
2. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã**
3. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä**
4. **–ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ webhook**

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```powershell
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ webhook
$token = "YOUR_BOT_TOKEN"
Invoke-RestMethod -Uri "https://api.telegram.org/bot$token/getWebhookInfo"

# –£–¥–∞–ª–µ–Ω–∏–µ webhook (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ)
Invoke-RestMethod -Uri "https://api.telegram.org/bot$token/deleteWebhook"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞
Invoke-RestMethod -Uri "https://api.telegram.org/bot$token/getMe"
```





